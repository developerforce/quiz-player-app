<template>
    <form onsubmit={handleSubmit} autocomplete="off">
        <div>
            <div class={nicknameFormElementClass}>
                <label for="nickname">Nickname</label>
                <div class="input-with-icons">
                    <input
                        id="nickname"
                        maxlength="20"
                        value={nickname}
                        oninput={handleNicknameChange}
                        readonly={isRegistering}
                        autocomplete="off"
                    />
                    <!-- Validation icon -->
                    <svg class={validationIconClass} aria-hidden="true">
                        <use xlink:href={validationIconHref}></use>
                    </svg>
                </div>
                <template if:true={shouldCollectPlayerEmails}>
                    <label for="email">Email</label>
                    <input
                        id="email"
                        type="email"
                        value={email}
                        oninput={handleEmailChange}
                        readonly={isRegistering}
                    />
                </template>
                <div class="error">{errorMessage}</div>
            </div>
        </div>
        <div class="form-footer">
            <template if:true={isLoading}>
                <ui-spinner></ui-spinner>
            </template>
            <template if:false={isLoading}>
                <button disabled={isRegistrationDisabled}>
                    Register
                </button>
            </template>
        </div>
    </form>
</template>
